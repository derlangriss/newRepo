{"remainingRequest":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/babel-loader/lib/index.js!/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/fronendDevSpare/frontendDev2/project-x/src/member/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/src/member/Login.vue","mtime":1638417282398},{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/babel.config.js","mtime":1638417282388},{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/cache-loader/dist/cjs.js","mtime":1638417375133},{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/babel-loader/lib/index.js","mtime":1638417375363},{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/cache-loader/dist/cjs.js","mtime":1638417375133},{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/vue-loader/lib/index.js","mtime":1638417375448}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICBmZXRjaCgiaHR0cHM6Ly9jYW10LWZvb2RhcGkucGFpci1jby5jb20vbG9naW4iLCB7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgICAgICAgYWxlcnQoInVzZXJuYW1lIOC4q+C4o+C4t+C4rSBwYXNzd29yZCBoYXZlIHByb2JsZW0iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBzdG9yZS5zZXRMb2dpblRva2VuKGRhdGEudG9rZW4pOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi4vcHJvZmlsZSIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIGlmICh0aGlzLiRyb290LnN0YXRlLmxvZ2luVG9rZW4pIHsKICAgICAgZmV0Y2goImh0dHBzOi8vY2FtdC1mb29kYXBpLnBhaXItY28uY29tL21lIiwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kcm9vdC5zdGF0ZS5sb2dpblRva2VuKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgiL3Byb2ZpbGUiKTsKCiAgICAgICAgX3RoaXMyLnByb2ZpbGUgPSBkYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,KAAA,MAAA,UAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,UAAA,IAAA,GAAA;AACA,QAAA,QAAA,EAAA,KAAA,QADA;AAEA,QAAA,QAAA,EAAA,KAAA;AAFA,OAAA;AAIA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,wCAAA,EAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAFA;AAGA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA;AAHA,OAAA,CAAA,CAOA,IAPA,CAOA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,qCAAA,CAAA;AACA,SAFA,MAEA;AACA,iBAAA,QAAA,CAAA,IAAA,EAAA;AACA;AACA,OAbA,EAcA,IAdA,CAcA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,aAAA,CAAA,IAAA,CAAA,KAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA,OAjBA,EAkBA,KAlBA,CAkBA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OApBA;AAqBA;AA5BA,GAPA;AAqCA,EAAA,OArCA,qBAqCA;AAAA;;AACA,QAAA,KAAA,KAAA,CAAA,KAAA,CAAA,UAAA,EAAA;AACA,MAAA,KAAA,CAAA,qCAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,mBAAA,KAAA,KAAA,CAAA,KAAA,CAAA,UAAA;AADA;AADA,OAAA,CAAA,CAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,eAAA,QAAA,CAAA,IAAA,EAAA;AACA,OAPA,EAQA,IARA,CAQA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,UAAA;;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,IAAA;AACA,OAXA,EAYA,KAZA,CAYA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAdA;AAeA;AACA;AAvDA,CAAA","sourcesContent":["<template>\n  <div>\n    <section class=\"login\">\n      <form class=\"formlogin\" @submit.prevent=\"login\">\n        <div class=\"login-container\">\n          <div class=\"container__main\">\n            <img src=\"../assets/plus.png\" alt=\"profile_image\" class=\"icon\" />\n          </div>\n          <div class=\"container__profile\">\n            <div class=\"form\">\n              <div class=\"label\">\n                <span class=\"label\"\n                  ><label for=\"lastname\">USER NAME</label></span\n                >\n              </div>\n              <input type=\"text\" v-model=\"username\" />\n            </div>\n            <div class=\"form\">\n              <div class=\"label\">\n                <span class=\"label\"\n                  ><label for=\"lastname\">PASSWORD</label></span\n                >\n              </div>\n              <input type=\"password\" v-model=\"password\" />\n            </div>\n            <div class=\"form\">\n              <button class=\"button-login\">Login</button>\n            </div>\n            <hr>\n             <div class=\"form\">\n              <button class=\"button-login\"><router-link to=\"./register\">Register</router-link></button>\n            </div>\n          </div>\n        </div>\n      </form>\n    </section>\n  </div>\n</template>\n<script>\nimport store from \"../store\";\nexport default {\n  data: function () {\n    return {\n      username: \"\",\n      password: \"\",\n    };\n  },\n  methods: {\n    login() {\n      const data = {\n        username: this.username,\n        password: this.password,\n      };\n      console.log(data);\n      fetch(\"https://camt-foodapi.pair-co.com/login\", {\n        method: \"POST\",\n        body: JSON.stringify(data),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n        .then((response) => {\n          if (response.status == 401) {\n            alert(\"username หรือ password have problem\");\n          } else {\n            return response.json();\n          }\n        })\n        .then((data) => {\n          store.setLoginToken(data.token);\n          this.$router.push(\"./profile\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  mounted() {\n    if (this.$root.state.loginToken) {\n      fetch(\"https://camt-foodapi.pair-co.com/me\", {\n        headers: {\n          Authorization: `Bearer ${this.$root.state.loginToken}`,\n        },\n      })\n        .then((response) => {\n          return response.json();\n        })\n        .then((data) => {\n          this.$router.push(\"/profile\");\n          this.profile = data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  },\n};\n</script>\n<style>\n.login {\n  justify-content: center;\n  text-align: center;\n  margin: auto;\n}\n.formlogin {\n  display: inline-block;\n}\n\n.login-container {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  width: 100%;\n  height: 500px;\n  position: relative;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.315);\n  flex: 1;\n  padding: 0px;\n  margin: 20px;\n}\n\n.login-container .container__main img {\n  width: 100%;\n  height: 500px;\n  object-position: center;\n  object-fit: cover;\n  margin-right: 10px;\n}\n\n.login-container .container__info {\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 20%;\n  display: flex;\n  align-items: flex-end;\n  padding: 15px 30px;\n  color: #fff;\n}\n.login-container .container__info span {\n  margin-right: 20px;\n}\n.login-container .container__info i {\n  margin-right: 10px;\n}\n.login-container .container__profile {\n  background-color: #729c3b;\n  display: inline-block;\n  align-items: left;\n  padding: 20px;\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n\n.login-container .container__profile .form {\n  text-align: left;\n  padding:5px\n}\n\n.button-login{\n  padding:10px;\n}\n.login-container .container_name {\n  background-color: #729c3b;\n  display: flex;\n  align-items: center;\n  padding: 20px;\n  position: absolute;\n  right: 0;\n  left: 0;\n  top: 0;\n}\n\n.login-container .container_name h2 {\n  /*thisrec*/\n  color: #fff;\n  font-size: 20px;\n  font-family: \"Sriracha\", helvetica, sans-serif;\n}\n\n.login-container .container__profile img {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  object-position: center;\n  object-fit: cover;\n  margin-right: 10px;\n}\n.login-container .container__profile h2 {\n  /*thisrec*/\n  font-family: \"Sriracha\", helvetica, sans-serif;\n  color: #ffffff;\n  font-size: 1.3rem;\n}\n.login-container .container__profile p {\n  color: #c7dd03;\n  font-size: 1.1rem;\n}\n.login-container .container__profile p b {\n  font-style: italic;\n}\n</style>"],"sourceRoot":"src/member"}]}