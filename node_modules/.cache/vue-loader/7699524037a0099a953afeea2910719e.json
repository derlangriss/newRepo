{"remainingRequest":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/fronendDevSpare/frontendDev2/project-x/src/member/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/src/member/Login.vue","mtime":1638417282398},{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/cache-loader/dist/cjs.js","mtime":1638417375133},{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/babel-loader/lib/index.js","mtime":1638417375363},{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/cache-loader/dist/cjs.js","mtime":1638417375133},{"path":"/Applications/fronendDevSpare/frontendDev2/project-x/node_modules/vue-loader/lib/index.js","mtime":1638417375448}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzdG9yZSBmcm9tICIuLi9zdG9yZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbigpIHsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgfTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIGZldGNoKCJodHRwczovL2NhbXQtZm9vZGFwaS5wYWlyLWNvLmNvbS9sb2dpbiIsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgIH0sCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgICAgICAgICBhbGVydCgidXNlcm5hbWUg4Lir4Lij4Li34LitIHBhc3N3b3JkIGhhdmUgcHJvYmxlbSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICBzdG9yZS5zZXRMb2dpblRva2VuKGRhdGEudG9rZW4pOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi4vcHJvZmlsZSIpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy4kcm9vdC5zdGF0ZS5sb2dpblRva2VuKSB7CiAgICAgIGZldGNoKCJodHRwczovL2NhbXQtZm9vZGFwaS5wYWlyLWNvLmNvbS9tZSIsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kcm9vdC5zdGF0ZS5sb2dpblRva2VufWAsCiAgICAgICAgfSwKICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgfSkKICAgICAgICAudGhlbigoZGF0YSkgPT4gewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wcm9maWxlIik7CiAgICAgICAgICB0aGlzLnByb2ZpbGUgPSBkYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/member","sourcesContent":["<template>\n  <div>\n    <section class=\"login\">\n      <form class=\"formlogin\" @submit.prevent=\"login\">\n        <div class=\"login-container\">\n          <div class=\"container__main\">\n            <img src=\"../assets/plus.png\" alt=\"profile_image\" class=\"icon\" />\n          </div>\n          <div class=\"container__profile\">\n            <div class=\"form\">\n              <div class=\"label\">\n                <span class=\"label\"\n                  ><label for=\"lastname\">USER NAME</label></span\n                >\n              </div>\n              <input type=\"text\" v-model=\"username\" />\n            </div>\n            <div class=\"form\">\n              <div class=\"label\">\n                <span class=\"label\"\n                  ><label for=\"lastname\">PASSWORD</label></span\n                >\n              </div>\n              <input type=\"password\" v-model=\"password\" />\n            </div>\n            <div class=\"form\">\n              <button class=\"button-login\">Login</button>\n            </div>\n            <hr>\n             <div class=\"form\">\n              <button class=\"button-login\"><router-link to=\"./register\">Register</router-link></button>\n            </div>\n          </div>\n        </div>\n      </form>\n    </section>\n  </div>\n</template>\n<script>\nimport store from \"../store\";\nexport default {\n  data: function () {\n    return {\n      username: \"\",\n      password: \"\",\n    };\n  },\n  methods: {\n    login() {\n      const data = {\n        username: this.username,\n        password: this.password,\n      };\n      console.log(data);\n      fetch(\"https://camt-foodapi.pair-co.com/login\", {\n        method: \"POST\",\n        body: JSON.stringify(data),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n        .then((response) => {\n          if (response.status == 401) {\n            alert(\"username หรือ password have problem\");\n          } else {\n            return response.json();\n          }\n        })\n        .then((data) => {\n          store.setLoginToken(data.token);\n          this.$router.push(\"./profile\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  mounted() {\n    if (this.$root.state.loginToken) {\n      fetch(\"https://camt-foodapi.pair-co.com/me\", {\n        headers: {\n          Authorization: `Bearer ${this.$root.state.loginToken}`,\n        },\n      })\n        .then((response) => {\n          return response.json();\n        })\n        .then((data) => {\n          this.$router.push(\"/profile\");\n          this.profile = data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  },\n};\n</script>\n<style>\n.login {\n  justify-content: center;\n  text-align: center;\n  margin: auto;\n}\n.formlogin {\n  display: inline-block;\n}\n\n.login-container {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  width: 100%;\n  height: 500px;\n  position: relative;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.315);\n  flex: 1;\n  padding: 0px;\n  margin: 20px;\n}\n\n.login-container .container__main img {\n  width: 100%;\n  height: 500px;\n  object-position: center;\n  object-fit: cover;\n  margin-right: 10px;\n}\n\n.login-container .container__info {\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 20%;\n  display: flex;\n  align-items: flex-end;\n  padding: 15px 30px;\n  color: #fff;\n}\n.login-container .container__info span {\n  margin-right: 20px;\n}\n.login-container .container__info i {\n  margin-right: 10px;\n}\n.login-container .container__profile {\n  background-color: #729c3b;\n  display: inline-block;\n  align-items: left;\n  padding: 20px;\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n\n.login-container .container__profile .form {\n  text-align: left;\n  padding:5px\n}\n\n.button-login{\n  padding:10px;\n}\n.login-container .container_name {\n  background-color: #729c3b;\n  display: flex;\n  align-items: center;\n  padding: 20px;\n  position: absolute;\n  right: 0;\n  left: 0;\n  top: 0;\n}\n\n.login-container .container_name h2 {\n  /*thisrec*/\n  color: #fff;\n  font-size: 20px;\n  font-family: \"Sriracha\", helvetica, sans-serif;\n}\n\n.login-container .container__profile img {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  object-position: center;\n  object-fit: cover;\n  margin-right: 10px;\n}\n.login-container .container__profile h2 {\n  /*thisrec*/\n  font-family: \"Sriracha\", helvetica, sans-serif;\n  color: #ffffff;\n  font-size: 1.3rem;\n}\n.login-container .container__profile p {\n  color: #c7dd03;\n  font-size: 1.1rem;\n}\n.login-container .container__profile p b {\n  font-style: italic;\n}\n</style>"]}]}